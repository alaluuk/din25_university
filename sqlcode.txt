create database university;
create user uniuser@'localhost' IDENTIFIED BY 'unipass';
grant all on university.* to uniuser@'localhost';

use university;
create table users(
username VARCHAR(20) primary key,
fname VARCHAR(30),
lname VARCHAR(30),
email VARCHAR(50),
role VARCHAR(10),
password VARCHAR(100)
);

CREATE TABLE courses(
    course_code CHAR(5) primary key,
    name VARCHAR(30),
    credit_points SMALLINT
);

INSERT INTO courses VALUES('ICT01', 'Databases',5);
INSERT INTO courses VALUES('CIV01', 'Basic of Architecture',4);

CREATE TABLE grades(
id_grades INT PRIMARY KEY AUTO_INCREMENT,
username VARCHAR(20),
course_code CHAR(5),
grade SMALLINT,
grade_date TIMESTAMP,
FOREIGN KEY (username) REFERENCES users(username)
    ON DELETE RESTRICT ON UPDATE CASCADE,
FOREIGN KEY (course_code) REFERENCES courses(course_code)
    ON DELETE RESTRICT ON UPDATE CASCADE
);